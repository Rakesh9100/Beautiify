const button = document.querySelector('button');

const weightedRandom = (min, max, ease) => {
    const easeFunc = gsap.parseEase(ease || 'power4.in');
    const result = gsap.utils.mapRange(0, 1, min, max, easeFunc(Math.random()));
    return result;
};

const getHatch = ({
    onComplete
}) => {
    const newHatch = Object.assign(document.createElement('span'), {
        className: 'hatch',
    });
    gsap.set(newHatch, {
        xPercent: -100
    });
    button.appendChild(newHatch);
    gsap.to(newHatch, {
        xPercent: 0,
        onComplete
    });
};

const deployChute = ({
    ejector,
    timeline
}) => {
    const chair = ejector.querySelector('.ejected__chair');
    const wrap = ejector.querySelector('.ejected__chute');
    const chute = ejector.querySelector('.parachute');
    const bear = ejector.querySelector('.bear');

    const x = gsap.utils.random(0, window.innerWidth);
    const timescale = gsap.utils.random(0.1, 0.3);
    const chuteScale = gsap.utils.mapRange(0.1, 0.3, 2, 1, timescale);

    gsap.timeline({
            onComplete: () => {
                gsap.timeline({
                        onComplete: () => {
                            timeline.timeScale(timescale);
                            gsap.to(wrap, {
                                x: x,
                                duration: 30,
                            });
                            const rotate = gsap.utils.random(-15, 15);
                            const duration = gsap.utils.random(0.5, 1.5);
                            gsap.timeline({
                                    repeat: -1,
                                    yoyo: true,
                                })
                                .set(bear, {
                                    transformOrigin: '50% -200%'
                                })
                                .fromTo(bear, {
                                    rotate: rotate * -1,
                                }, {
                                    rotate,
                                    ease: 'none',
                                    duration,
                                }).time(duration * 0.5);
                        },
                    })
                    .to(timeline, {
                        time: '-=0.2',
                        duration: 0.2,
                    });
            },
        })
        .to(chair, {
            yPercent: -150,
            ease: 'elastic.in',
            duration: 0.2,
        })
        .to(chute, {
            ease: 'elastic.in',
            scale: chuteScale,
            duration: 0.2,
        });
};

const launch = ({
    ejector,
    velocity
}) => {
    const distance = gsap.utils.random(
        window.innerHeight * 0.25,
        window.innerHeight * 0.5,
        1
    );
    const hatch = ejector
        .closest('button')
        .querySelector('.hatch:not(.hatch--flipped)');
    const angle = gsap.utils.random(-86, -94);
    const gravity = window.innerHeight * 0.5;

    const physics = calculatePhysics(velocity, angle, gravity);

    const launchTl = gsap
        .timeline()
        .to(
            ejector.firstElementChild, {
                duration: 8,
                onStart: () => {
                    console.info('eject');
                    gsap.to(hatch, {
                        onStart: () => {
                            hatch.classList.add('hatch--flipped');
                        },
                        onComplete: () => {
                            hatch.remove();
                        },
                        y: -500,
                        duration: 2,
                        rotate: gsap.utils.random(90, 360),
                        transformOrigin: '75% 50%',
                    });
                },
                onUpdate: function () {
                    const time = this.time();
                    updatePosition(ejector.firstElementChild, physics, time);
                    if (!this.__deployed && physics.vy < 0) {
                        this.__deployed = true;
                        deployChute({
                            ejector,
                            timeline: launchTl
                        });
                    }
                },
                onComplete: () => {
                    ejector.remove();
                    console.info('done');
                },
            },
            0
        )
        .timeScale(3);
};

const eject = () => {
    button.disabled = true;
    const ejector = Object.assign(document.createElement('span'), {
        className: 'ejector',
        style: `--eye-delay: ${gsap.utils.random(0, 3)}`,
        innerHTML: `
      <span class="ejected">
        <span class="ejected__chair">
          <span class="ejected__chute">
            <span class="parachute"></span>
            <span class="bear">${getBear(gsap.utils.random(0, 359))}</span>
          </span>
        </span>
      </span>
    `,
    });
    gsap.set(ejector.querySelector('.parachute'), {
        scale: 0,
        transformOrigin: '50% 100%',
    });
    button.appendChild(ejector);
    const duration = gsap.utils.random(0.25, 1, 0.05);
    const dps =
        (1 / duration) *
        gsap.utils.random(window.innerHeight * 0.1, window.innerHeight * 0.25, 1);
    const velocity = window.innerHeight * 0.5;

    const unlucky = velocity >= 600 && Math.random() > 0.5;
    if (unlucky) {
        yeet({
            ejector,
            dps
        });
    } else {
        launch({
            ejector,
            velocity
        });
    }
};

button.addEventListener('click', eject);

const VARIANTS = {
    holdingOn: (hue) => `
    <svg ${
      hue ? `style="--hue: ${hue};"` : ''
    } class="bear" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="86 300 246 350">
      <g class="parachute">
        <path stroke="#898989" stroke-linecap="round" stroke-width="6" d="m3 212.591 205.914 269.65m-102.957-269.65 102.957 269.65m0-269.65v269.65m102.958-269.65-102.958 269.65m0 0 205.757-269.649"/>
        <path fill="#fff" fill-rule="evenodd" d="M414.827 211.768C414.383 98.423 322.363 6.677 208.914 6.677 95.466 6.677 3.446 98.423 3.002 211.768c.22-14.457 23.183-26.142 51.477-26.142 28.43 0 51.478 11.798 51.478 26.352 0 .205-.004.41-.013.613h.027a13.86 13.86 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.41-.013.613h.027a13.86 13.86 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.41-.013.613h.027a13.86 13.86 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352 28.293 0 51.256 11.685 51.477 26.142Zm.001.335c-.001.163-.006.326-.013.488h.014l-.001-.488ZM3 212.591v-.488c.002.163.006.326.014.488H3Z" clip-rule="evenodd"/>
        <path fill="#000" d="m414.827 211.768-3 .046a3 3 0 0 0 6-.058l-3 .012Zm-411.825 0-3-.012a2.999 2.999 0 0 0 6 .057l-3-.045Zm102.942.823-2.998-.133a3.002 3.002 0 0 0 2.998 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.943-.488 3-.006a3 3 0 0 0-6-.021l3 .027Zm-.013.488-2.997-.133a3.002 3.002 0 0 0 2.997 3.133v-3Zm.014 0v3a3 3 0 0 0 3-3h-3Zm-411.828-.488 3-.027a3 3 0 0 0-6 .02l3 .007Zm-.001.488H0a3 3 0 0 0 3 3v-3Zm.014 0v3a2.999 2.999 0 0 0 2.997-3.133l-2.997.133Zm205.9-202.914c111.796 0 202.476 90.41 202.913 202.102l6-.023C417.377 96.76 324.016 3.677 208.914 3.677v6ZM6.002 211.779C6.439 100.086 97.119 9.677 208.914 9.677v-6C93.813 3.677.452 96.76.002 211.756l6 .023Zm48.477-29.153c-14.52 0-27.819 2.992-37.625 7.975C7.207 195.503.138 202.803.002 211.722l6 .091c.084-5.538 4.607-11.308 13.57-15.863 8.804-4.473 21.133-7.324 34.907-7.324v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.033 7.389 8.972 4.592 13.445 10.398 13.445 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .161-.003.32-.011.48l5.995.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.319-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .161-.003.32-.01.48l5.994.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.319-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.841 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .161-.003.321-.01.48l5.994.267Zm-2.97-3.134h-.027v6h.027v-6Zm2.997 2.867a10.91 10.91 0 0 1-.011-.48h-6c0 .25.006.499.017.747l5.994-.267Zm-.011-.48c0-5.565 4.474-11.371 13.445-15.963 8.812-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.773 0 26.103 2.851 34.907 7.324 8.963 4.555 13.486 10.325 13.57 15.864l6-.092c-.137-8.918-7.206-16.219-16.852-21.121-9.806-4.983-23.105-7.975-37.625-7.975v6Zm48.478 23.45a9.688 9.688 0 0 1-.01.382l5.994.267c.009-.198.014-.396.016-.595l-6-.054Zm3.001-2.485h-.014v6h.014v-6Zm-3.001 2.519.001.481h6l-.001-.494-6 .013ZM.001 212.096l-.001.495h6v-.481l-6-.014Zm6.01.362a8.081 8.081 0 0 1-.01-.382l-6 .054c.001.199.007.397.016.595l5.994-.267ZM3 215.591h.014v-6H3v6Z"/>
        <path fill="#000" d="m312.037 209.849 2.964.463c.011-.07.02-.141.026-.212l-2.99-.251ZM208.914 6.677v-3 3ZM105.791 209.848l-2.989.251c.006.071.014.142.025.212l2.964-.463Zm.164 1.872-3 .057c.002.071.005.142.012.214l2.988-.271Zm.004.045-2.988.271a3 3 0 0 0 5.987-.224l-2.999-.047Zm102.942.826-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.942-.826-3 .046a3 3 0 0 0 5.988.223l-2.988-.269Zm.004-.045 2.988.269c.006-.071.01-.142.011-.213l-2.999-.056Zm-1.777-27.319c0 8.557-.358 16.97-1.049 25.197l5.979.502a307.22 307.22 0 0 0 1.07-25.699h-6ZM208.914 9.677c27.267 0 52.5 18.874 71.081 50.571 18.539 31.626 30.102 75.514 30.102 124.153h6c0-49.516-11.759-94.49-30.926-127.187-19.126-32.626-45.985-53.537-76.257-53.537v6ZM107.731 184.401c0-48.639 11.564-92.527 30.103-124.153 18.581-31.697 43.814-50.571 71.08-50.571v-6c-30.272 0-57.13 20.91-76.256 53.537-19.168 32.697-30.927 77.671-30.927 127.187h6Zm1.05 25.196a300.73 300.73 0 0 1-1.05-25.196h-6c0 8.724.365 17.304 1.071 25.698l5.979-.502Zm-5.954.714c.076.485.119.974.128 1.466l5.999-.113a16.648 16.648 0 0 0-.199-2.279l-5.928.926Zm6.12 1.184-.004-.045-5.976.541.004.045 5.976-.541Zm.011.317c.086-5.539 4.61-11.308 13.573-15.863 8.803-4.473 21.132-7.323 34.905-7.323v-6c-14.52 0-27.817 2.992-37.623 7.974-9.647 4.902-16.716 12.202-16.854 21.119l5.999.093Zm48.478-23.186c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6Zm48.478 23.352c0 .161-.003.32-.01.48l5.994.267c.011-.248.016-.497.016-.747h-6Zm2.987 3.613h.027v-6h-.027v6Zm3.024-3.133c-.007-.16-.011-.319-.011-.48h-6c0 .25.006.499.017.747l5.994-.267Zm-.011-.48c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.772 0 26.101 2.85 34.905 7.323 8.963 4.554 13.486 10.324 13.572 15.862l5.999-.093c-.138-8.917-7.207-16.217-16.853-21.118-9.806-4.982-23.104-7.974-37.623-7.974v6Zm48.493 22.824-.002.021-.002.025 5.976.538.002-.021.002-.024-5.976-.539Zm5.987.326c.01-.492.052-.979.128-1.464l-5.928-.926a16.94 16.94 0 0 0-.199 2.277l5.999.113Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M208.914 3v209.591"/>
      </g>
      <path fill="#AF7128" fill-rule="evenodd" d="M89 341.842c0 17.292 11.913 31.801 27.98 35.769A85.08 85.08 0 0 0 114 400v225c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-28.516c2.123.34 4.293.516 6.5.516 2.555 0 5.06-.236 7.5-.689V625c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22V400a85.11 85.11 0 0 0-2.993-22.438c15.969-4.035 27.787-18.498 27.787-35.72 0-20.347-16.495-36.842-36.842-36.842-14.302 0-26.701 8.15-32.806 20.059C247.19 318.641 233.52 315 219 315h-20c-14.586 0-28.313 3.674-40.308 10.146C152.603 313.19 140.179 305 125.842 305 105.495 305 89 321.495 89 341.842Z" clip-rule="evenodd"/>
      <path fill="#000" d="m116.98 377.611 2.894.788a3 3 0 0 0-2.175-3.701l-.719 2.913ZM202 596.484l.475-2.963a3 3 0 0 0-3.475 2.963h3Zm14-.173h3c0-.892-.397-1.738-1.082-2.308a3.004 3.004 0 0 0-2.466-.642l.548 2.95Zm85.007-218.749-.735-2.908a2.997 2.997 0 0 0-2.159 3.698l2.894-.79Zm-41.861-52.503-1.419 2.644a3 3 0 0 0 4.089-1.275l-2.67-1.369Zm-100.454.087-2.673 1.362a3.003 3.003 0 0 0 4.098 1.279l-1.425-2.641Zm-40.993 49.552C102.94 371.054 92 357.722 92 341.842h-6c0 18.704 12.886 34.391 30.26 38.681l1.439-5.825ZM117 400c0-7.48 1.001-14.722 2.874-21.601l-5.789-1.577A88.1 88.1 0 0 0 111 400h6Zm0 133V400h-6v133h6Zm0 45v-45h-6v45h6Zm0 47v-47h-6v47h6Zm19 19c-10.493 0-19-8.506-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.494-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-28.516V625h6v-28.516h-6Zm9.5-2.484c-2.047 0-4.058-.163-6.025-.479l-.95 5.925c2.279.365 4.608.554 6.975.554v-6Zm6.952-.639c-2.261.42-4.583.639-6.952.639v6c2.74 0 5.429-.253 8.048-.74l-1.096-5.899ZM219 625v-28.689h-6V625h6Zm19 19c-10.493 0-19-8.506-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.494-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-47v47h6v-47h-6Zm0-45v45h6v-45h-6Zm0-133v133h6V400h-6Zm-2.887-21.648A82.082 82.082 0 0 1 301 400h6a88.09 88.09 0 0 0-3.099-23.228l-5.788 1.58Zm27.681-36.51c0 15.816-10.853 29.105-25.522 32.812l1.47 5.817c17.269-4.364 30.052-20 30.052-38.629h-6ZM291.952 308c18.69 0 33.842 15.152 33.842 33.842h6c0-22.004-17.838-39.842-39.842-39.842v6Zm-30.136 18.428C267.427 315.481 278.818 308 291.952 308v-6c-15.471 0-28.878 8.819-35.476 21.691l5.34 2.737ZM219 318c14.013 0 27.196 3.513 38.727 9.703l2.838-5.287C248.183 315.769 234.027 312 219 312v6Zm-20 0h20v-6h-20v6Zm-38.883 9.787C171.685 321.544 184.924 318 199 318v-6c-15.095 0-29.311 3.803-41.733 10.506l2.85 5.281ZM125.842 308c13.165 0 24.58 7.517 30.177 18.508l5.346-2.723C154.785 310.862 141.351 302 125.842 302v6ZM92 341.842C92 323.152 107.151 308 125.842 308v-6C103.838 302 86 319.838 86 341.842h6Z"/>
      <path class="cap-strap" d="M164.322 372.665h88.371v13.25h-88.371z"/>
      <path fill="#000" fill-rule="evenodd" d="M276.3 331.481c17.939 14.394 28.018 37.148 28.018 57.504H242.67c-.087-13.669-11.194-24.722-24.883-24.722h-18.56c-13.689 0-24.796 11.053-24.883 24.722H113c0-20.356 10.078-43.11 28.018-57.504C158.957 317.087 183.289 309 208.659 309c25.37 0 49.701 8.087 67.641 22.481Z" clip-rule="evenodd"/>
      <g class="eyes">
        <circle cx="263.665" cy="415.079" r="8.079" fill="#000"/>
        <circle cx="155.079" cy="415.079" r="8.079" fill="#000"/>
      </g>
      <path fill="#000" d="M230.165 429.683c0 8.21-9.868 17.451-20.845 17.451-10.977 0-20.845-9.241-20.845-17.451s9.868-12.281 20.845-12.281c10.977 0 20.845 4.071 20.845 12.281Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M249 635v12m24-12v12m-127-12v12m24-12v12"/>
      <g class="feature-set">
        <path fill="#707070" stroke="#000" stroke-width="6" d="M299 534v16H116v-16zm0-54v16H116v-16z"/>
        <path fill="#D9D9D9" stroke="#000" stroke-width="6" d="M191 534h28v16h-28zm-76-69h16v95h-16zm172 0h16v95h-16z"/>
        <rect width="74.266" height="52" x="249" y="489" fill="#AF7128" stroke="#000" stroke-width="6" rx="26"/>
        <rect width="74.266" height="52" x="94" y="489" fill="#AF7128" stroke="#000" stroke-width="6" rx="26"/>
        <path fill="#000" d="M156 506a3 3 0 1 0 0 6v-6Zm12 0h-12v6h12v-6Zm93 18a3 3 0 1 0 0-6v6Zm-12 0h12v-6h-12v6Zm-93-6a3 3 0 1 0 0 6v-6Zm12 0h-12v6h12v-6Zm93-6a3 3 0 1 0 0-6v6Zm-12 0h12v-6h-12v6Z"/>
      </g>
    </svg>
  `,
    singleLeft: (hue) => `
    <svg ${
      hue ? `style="--hue: ${hue};"` : ''
    } class="bear" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="86 300 246 350">
      <rect width="115" height="52" x="83.012" y="440.243" fill="#AF7128" stroke="#000" stroke-width="6" rx="26" transform="rotate(45 83.012 440.243)"/>
      <path fill="#000" d="M74.919 466.607a3.001 3.001 0 0 0 4.242-4.243l-4.242 4.243Zm-8.486-8.486 8.486 8.486 4.242-4.243-8.485-8.485-4.243 4.242ZM66.364 475.161a3 3 0 1 0 4.243-4.242l-4.243 4.242Zm-8.485-8.485 8.485 8.485 4.243-4.242-8.486-8.486-4.242 4.243Z"/>
      <g class="parachute">
        <path stroke="#898989" stroke-linecap="round" stroke-width="6" d="m3 212.591 205.914 269.65M105.957 212.591l102.957 269.65M208.915 212.591v269.65M311.872 212.591l-102.958 269.65M208.915 482.241l205.757-269.649"/>
        <path fill="#fff" fill-rule="evenodd" d="M414.827 211.768C414.383 98.423 322.363 6.677 208.914 6.677 95.466 6.677 3.446 98.423 3.002 211.767c.22-14.456 23.183-26.141 51.477-26.141 28.43 0 51.478 11.798 51.478 26.352 0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352 28.293 0 51.256 11.685 51.477 26.142Zm.001.335c-.001.163-.006.326-.013.488h.014l-.001-.488ZM3 212.591v-.488c.002.163.006.326.014.488H3Z" clip-rule="evenodd"/>
        <path fill="#000" d="m414.827 211.768-3 .045a3 3 0 0 0 6-.057l-3 .012Zm-411.825-.001-3-.011a3 3 0 0 0 6 .057l-3-.046Zm102.942.824-2.998-.133a3.002 3.002 0 0 0 2.998 3.133v-3Zm.027 0v3a3.002 3.002 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.134a3 3 0 0 0 2.997 3.134v-3Zm.027 0v3a3.002 3.002 0 0 0 2.997-3.134l-2.997.134Zm102.943-.488 3-.007a3 3 0 0 0-6-.02l3 .027Zm-.013.488-2.997-.133a3.002 3.002 0 0 0 2.997 3.133v-3Zm.014 0v3a3 3 0 0 0 3-3h-3Zm-411.828-.488 3-.027a3 3 0 0 0-6 .02l3 .007Zm-.001.488H0a3 3 0 0 0 3 3v-3Zm.014 0v3a3.003 3.003 0 0 0 2.997-3.133l-2.997.133Zm205.9-202.914c111.796 0 202.476 90.409 202.913 202.102l6-.023c-.45-114.996-93.811-208.08-208.913-208.08v6ZM6.002 211.779C6.439 100.086 97.119 9.677 208.914 9.677v-6C93.813 3.677.452 96.76.002 211.756l6 .023Zm48.477-29.153c-14.52 0-27.819 2.992-37.625 7.975C7.207 195.503.138 202.803.002 211.722l6 .091c.084-5.538 4.607-11.308 13.57-15.863 8.804-4.474 21.133-7.324 34.907-7.324v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.033 7.389 8.972 4.592 13.445 10.398 13.445 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .161-.003.32-.011.48l5.995.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.319-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .16-.003.32-.01.48l5.994.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.32-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.841 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.249.016-.497.016-.747h-6c0 .161-.003.32-.01.479l5.994.268Zm-2.97-3.134h-.027v6h.027v-6Zm2.997 2.866a10.864 10.864 0 0 1-.011-.479h-6c0 .25.006.498.017.747l5.994-.268Zm-.011-.479c0-5.565 4.474-11.371 13.445-15.963 8.812-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.773 0 26.103 2.85 34.907 7.324 8.963 4.555 13.486 10.325 13.57 15.863l6-.091c-.137-8.918-7.206-16.219-16.852-21.121-9.806-4.983-23.105-7.975-37.625-7.975v6Zm48.478 23.45a9.688 9.688 0 0 1-.01.382l5.994.267c.009-.198.014-.396.016-.595l-6-.054Zm3.001-2.485h-.014v6h.014v-6Zm-3.001 2.519.001.481h6l-.001-.495-6 .014ZM.001 212.096l-.001.495h6v-.481l-6-.014Zm6.01.362c-.006-.127-.01-.255-.01-.382l-6 .054c.001.199.007.397.016.595l5.994-.267ZM3 215.591h.014v-6H3v6Z"/>
        <path fill="#000" d="m312.037 209.849 2.964.463c.011-.07.02-.141.026-.212l-2.99-.251ZM208.914 6.677v-3 3ZM105.791 209.848l-2.989.251c.006.071.014.142.025.212l2.964-.463Zm.164 1.872-3 .057c.002.071.005.142.012.213l2.988-.27Zm.004.045-2.988.271a3 3 0 0 0 5.987-.224l-2.999-.047Zm102.942.826-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.942-.826-3 .046a3 3 0 0 0 5.988.223l-2.988-.269Zm.004-.046 2.988.27c.006-.071.01-.142.011-.213l-2.999-.057Zm-1.777-27.318c0 8.557-.358 16.97-1.049 25.197l5.979.502a307.22 307.22 0 0 0 1.07-25.699h-6ZM208.914 9.677c27.267 0 52.5 18.874 71.081 50.571 18.539 31.626 30.102 75.514 30.102 124.153h6c0-49.516-11.759-94.49-30.926-127.187-19.126-32.627-45.985-53.537-76.257-53.537v6ZM107.731 184.4c0-48.639 11.564-92.527 30.103-124.153 18.581-31.697 43.814-50.571 71.08-50.571v-6c-30.272 0-57.13 20.91-76.256 53.537-19.168 32.697-30.927 77.671-30.927 127.187h6Zm1.05 25.196a300.748 300.748 0 0 1-1.05-25.196h-6c0 8.723.365 17.304 1.071 25.698l5.979-.502Zm-5.954.714c.076.485.119.974.128 1.466l5.999-.113a16.648 16.648 0 0 0-.199-2.279l-5.928.926Zm6.12 1.184a.75.75 0 0 1-.004-.045l-5.976.54.004.046 5.976-.541Zm.011.317c.086-5.539 4.61-11.309 13.573-15.863 8.803-4.473 21.132-7.323 34.905-7.323v-6c-14.52 0-27.817 2.992-37.623 7.974-9.647 4.902-16.716 12.201-16.854 21.119l5.999.093Zm48.478-23.186c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6Zm48.478 23.352c0 .16-.003.32-.01.48l5.994.267c.011-.248.016-.497.016-.747h-6Zm2.987 3.613h.027v-6h-.027v6Zm3.024-3.133c-.007-.16-.011-.32-.011-.48h-6c0 .25.006.499.017.747l5.994-.267Zm-.011-.48c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.772 0 26.101 2.85 34.905 7.323 8.963 4.554 13.486 10.324 13.572 15.862l5.999-.093c-.138-8.917-7.207-16.217-16.853-21.118-9.806-4.982-23.104-7.974-37.623-7.974v6Zm48.493 22.824-.002.021-.002.024 5.976.539.002-.021.002-.024-5.976-.539Zm5.987.326c.01-.492.052-.98.128-1.464l-5.928-.926a16.94 16.94 0 0 0-.199 2.277l5.999.113Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M208.914 3V212.59"/>
      </g>
      <path fill="#AF7128" fill-rule="evenodd" d="M89 341.842c0 17.292 11.913 31.801 27.98 35.768A85.094 85.094 0 0 0 114 400v225c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-28.516a41.072 41.072 0 0 0 14-.174V625c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22V400c0-7.767-1.042-15.29-2.993-22.438 15.969-4.035 27.787-18.498 27.787-35.72 0-20.347-16.495-36.842-36.842-36.842-14.302 0-26.701 8.15-32.806 20.059C247.19 318.641 233.52 315 219 315h-20c-14.586 0-28.313 3.674-40.308 10.146C152.603 313.19 140.179 305 125.842 305 105.495 305 89 321.495 89 341.842Z" clip-rule="evenodd"/>
      <path fill="#000" d="m116.98 377.61 2.894.789a3 3 0 0 0-2.175-3.701l-.719 2.912ZM202 596.484l.475-2.963a2.999 2.999 0 0 0-3.475 2.963h3Zm14-.174h3a3 3 0 0 0-3.548-2.949l.548 2.949Zm85.007-218.748-.735-2.908a2.997 2.997 0 0 0-2.159 3.698l2.894-.79Zm-41.861-52.503-1.419 2.643a3 3 0 0 0 4.089-1.274l-2.67-1.369Zm-100.454.087-2.673 1.362a2.998 2.998 0 0 0 4.098 1.279l-1.425-2.641Zm-40.993 49.552C102.94 371.054 92 357.721 92 341.842h-6c0 18.704 12.886 34.391 30.26 38.681l1.439-5.825ZM117 400c0-7.48 1.001-14.722 2.874-21.601l-5.789-1.577A88.1 88.1 0 0 0 111 400h6Zm0 133V400h-6v133h6Zm0 45v-45h-6v45h6Zm0 47v-47h-6v47h6Zm19 19c-10.493 0-19-8.507-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.493-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-28.516V625h6v-28.516h-6Zm9.5-2.484c-2.047 0-4.058-.163-6.025-.479l-.95 5.925c2.279.365 4.608.554 6.975.554v-6Zm6.952-.639c-2.261.42-4.583.639-6.952.639v6c2.74 0 5.429-.253 8.048-.74l-1.096-5.899ZM219 625v-28.69h-6V625h6Zm19 19c-10.493 0-19-8.507-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.493-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-47v47h6v-47h-6Zm0-45v45h6v-45h-6Zm0-133v133h6V400h-6Zm-2.887-21.648A82.082 82.082 0 0 1 301 400h6a88.09 88.09 0 0 0-3.099-23.228l-5.788 1.58Zm27.681-36.51c0 15.816-10.853 29.104-25.522 32.812l1.47 5.817c17.269-4.364 30.052-20 30.052-38.629h-6ZM291.952 308c18.69 0 33.842 15.151 33.842 33.842h6c0-22.004-17.838-39.842-39.842-39.842v6Zm-30.136 18.428C267.427 315.481 278.818 308 291.952 308v-6c-15.471 0-28.878 8.819-35.476 21.691l5.34 2.737ZM219 318c14.013 0 27.196 3.512 38.727 9.702l2.838-5.286C248.183 315.769 234.027 312 219 312v6Zm-20 0h20v-6h-20v6Zm-38.883 9.787C171.685 321.544 184.924 318 199 318v-6c-15.095 0-29.311 3.803-41.733 10.506l2.85 5.281ZM125.842 308c13.165 0 24.58 7.517 30.177 18.508l5.346-2.723C154.785 310.862 141.351 302 125.842 302v6ZM92 341.842C92 323.151 107.151 308 125.842 308v-6C103.838 302 86 319.838 86 341.842h6Z"/>
      <path class="cap-strap" d="M164.322 372.665h88.371v13.25h-88.371z"/>
      <path fill="#000" fill-rule="evenodd" d="M276.3 331.481c17.939 14.394 28.018 37.148 28.018 57.504H242.67c-.087-13.669-11.194-24.723-24.883-24.723h-18.56c-13.689 0-24.796 11.054-24.883 24.723H113c0-20.356 10.078-43.11 28.018-57.504C158.957 317.086 183.289 309 208.659 309c25.37 0 49.701 8.086 67.641 22.481Z" clip-rule="evenodd"/>
      <g class="eyes">
        <circle cx="263.665" cy="415.079" r="8.079" fill="#000"/>
        <circle cx="155.079" cy="415.079" r="8.079" fill="#000"/>
      </g>
      <path fill="#000" d="M230.165 429.683c0 8.21-9.868 17.451-20.845 17.451-10.977 0-20.844-9.241-20.844-17.451 0-8.211 9.867-12.281 20.844-12.281s20.845 4.07 20.845 12.281Z"/>
      <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M249 635v12M273 635v12M146 635v12M170 635v12"/>
      <path fill="#707070" stroke="#000" stroke-width="6" d="M299 534v16H116v-16zM299 480v16H116v-16z"/>
      <path fill="#D9D9D9" stroke="#000" stroke-width="6" d="M191 534h28v16h-28zM115 465h16v95h-16zM287 465h16v95h-16z"/>
      <rect width="74.266" height="52" x="249" y="489" fill="#AF7128" stroke="#000" stroke-width="6" rx="26"/>
      <path fill="#000" d="M261 524a3 3 0 1 0 0-6v6Zm-12 0h12v-6h-12v6ZM261 512a3 3 0 1 0 0-6v6Zm-12 0h12v-6h-12v6Z"/>
    </svg>
  `,
    singleRight: (hue) => `
    <svg ${
      hue ? `style="--hue: ${hue};"` : ''
    } class="bear" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="86 300 246 350">
      <rect width="115" height="52" y="4.243" fill="#AF7128" stroke="#000" stroke-width="6" rx="26" transform="scale(-1 1) rotate(45 -693.793 -182.123)"/>
      <path fill="#000" d="M343.081 466.606a2.998 2.998 0 0 1-4.242 0 2.998 2.998 0 0 1 0-4.242l4.242 4.242Zm8.486-8.485-8.486 8.485-4.242-4.242 8.485-8.486 4.243 4.243ZM351.636 475.161a3 3 0 1 1-4.243-4.243l4.243 4.243Zm8.485-8.485-8.485 8.485-4.243-4.243 8.486-8.485 4.242 4.243Z"/>
      <g class="parachute">
        <path stroke="#898989" stroke-linecap="round" stroke-width="6" d="m415 212.591-205.914 269.65M312.043 212.591l-102.957 269.65M209.085 212.591v269.65M106.128 212.591l102.958 269.65M209.085 482.241 3.328 212.592"/>
        <path fill="#fff" fill-rule="evenodd" d="M3.173 211.768C3.617 98.423 95.637 6.677 209.086 6.677c113.448 0 205.468 91.746 205.912 205.091-.221-14.457-23.183-26.142-51.477-26.142-28.43 0-51.478 11.798-51.478 26.352 0 .205.004.41.013.613h-.027c.009-.203.014-.408.014-.613 0-14.554-23.048-26.352-51.479-26.352s-51.478 11.798-51.478 26.352c0 .205.004.41.013.613h-.027c.009-.203.014-.408.014-.613 0-14.554-23.048-26.352-51.479-26.352s-51.478 11.798-51.478 26.352c0 .205.004.41.013.613h-.027c.009-.203.014-.408.014-.613 0-14.554-23.048-26.352-51.48-26.352-28.293 0-51.255 11.685-51.476 26.142Zm-.001.335c.001.163.006.326.013.488h-.014v-.488Zm411.828.488-.001-.488a11.31 11.31 0 0 1-.013.488H415Z" clip-rule="evenodd"/>
        <path fill="#000" d="m3.173 211.768 3 .046a3 3 0 0 1-6-.058l3 .012Zm411.825 0 3-.012a2.999 2.999 0 0 1-5.999.057l2.999-.045Zm-102.942.823 2.998-.133a3.002 3.002 0 0 1-2.998 3.133v-3Zm-.027 0v3a2.998 2.998 0 0 1-2.997-3.133l2.997.133Zm-102.93 0 2.997-.133a2.998 2.998 0 0 1-2.997 3.133v-3Zm-.027 0v3a2.998 2.998 0 0 1-2.997-3.133l2.997.133Zm-102.93 0 2.997-.133a2.998 2.998 0 0 1-2.997 3.133v-3Zm-.027 0v3a2.998 2.998 0 0 1-2.997-3.133l2.997.133Zm-102.943-.488-3-.006a3 3 0 0 1 6-.021l-3 .027Zm.013.488 2.997-.133a3 3 0 0 1-2.997 3.133v-3Zm-.014 0v3a3 3 0 0 1-3-3h3ZM415 212.103l-2.999-.027a3 3 0 0 1 5.999.02l-3 .007Zm.001.488h3a3 3 0 0 1-3 3v-3Zm-.014 0v3a3 3 0 0 1-2.997-3.133l2.997.133ZM209.086 9.677C97.29 9.677 6.61 100.087 6.173 211.779l-6-.023C.623 96.76 93.984 3.677 209.086 3.677v6Zm202.912 202.102C411.561 100.086 320.881 9.677 209.086 9.677v-6c115.101 0 208.462 93.083 208.912 208.079l-6 .023Zm-48.477-29.153c14.521 0 27.819 2.992 37.625 7.975 9.647 4.902 16.716 12.202 16.852 21.121l-5.999.091c-.085-5.538-4.608-11.308-13.571-15.863-8.804-4.473-21.133-7.324-34.907-7.324v-6Zm-54.478 29.352c0-8.988 7.05-16.359 16.711-21.304 9.82-5.027 23.177-8.048 37.767-8.048v6c-13.84 0-26.222 2.878-35.033 7.389-8.972 4.592-13.445 10.398-13.445 15.963h-6Zm.016.747a16.857 16.857 0 0 1-.016-.747h6c0 .161.003.32.011.48l-5.995.267Zm2.97-3.134h.027v6h-.027v-6Zm3.014 2.387c0 .25-.006.499-.017.747l-5.994-.267c.007-.16.011-.319.011-.48h6Zm-54.479-29.352c14.59 0 27.948 3.021 37.768 8.048 9.66 4.945 16.711 12.316 16.711 21.304h-6c0-5.565-4.474-11.371-13.445-15.963-8.811-4.511-21.193-7.389-35.034-7.389v-6Zm-54.478 29.352c0-8.988 7.05-16.359 16.71-21.304 9.821-5.027 23.178-8.048 37.768-8.048v6c-13.84 0-26.222 2.878-35.034 7.389-8.971 4.592-13.444 10.398-13.444 15.963h-6Zm.016.747a16.857 16.857 0 0 1-.016-.747h6c0 .161.003.32.01.48l-5.994.267Zm2.97-3.134h.027v6h-.027v-6Zm3.014 2.387c0 .25-.006.499-.017.747l-5.994-.267c.007-.16.011-.319.011-.48h6Zm-54.479-29.352c14.59 0 27.948 3.021 37.768 8.048 9.66 4.945 16.711 12.316 16.711 21.304h-6c0-5.565-4.474-11.371-13.445-15.963-8.811-4.511-21.193-7.389-35.034-7.389v-6Zm-54.478 29.352c0-8.988 7.05-16.359 16.71-21.304 9.82-5.027 23.178-8.048 37.768-8.048v6c-13.841 0-26.222 2.878-35.034 7.389-8.971 4.592-13.444 10.398-13.444 15.963h-6Zm.016.747a16.857 16.857 0 0 1-.016-.747h6c0 .161.003.321.01.48l-5.994.267Zm2.97-3.134h.027v6h-.027v-6Zm-2.997 2.867c.007-.159.011-.319.011-.48h6c0 .25-.006.499-.017.747l-5.994-.267Zm.011-.48c0-5.565-4.474-11.371-13.445-15.963-8.812-4.511-21.193-7.389-35.034-7.389v-6c14.59 0 27.947 3.021 37.768 8.048 9.66 4.945 16.711 12.316 16.711 21.304h-6Zm-48.48-23.352c-13.772 0-26.102 2.851-34.906 7.324-8.963 4.555-13.486 10.325-13.57 15.864l-6-.092c.137-8.918 7.206-16.219 16.852-21.121 9.806-4.983 23.105-7.975 37.625-7.975v6Zm-48.477 23.45c.001.128.004.255.01.382l-5.994.267a16.75 16.75 0 0 1-.016-.595l6-.054Zm-3-2.485h.013v6h-.014v-6Zm3 2.519v.481h-6v-.494l6 .013Zm411.827-.014.001.495h-6l-.001-.481 6-.014Zm-6.01.362c.006-.127.009-.254.011-.382l5.999.054a14.72 14.72 0 0 1-.016.595l-5.994-.267Zm3.011 3.133h-.014v-6H415v6Z"/>
        <path fill="#000" d="m105.963 209.849-2.964.463a2.992 2.992 0 0 1-.026-.212l2.99-.251ZM209.086 6.677v-3 3Zm103.123 203.171 2.989.251a2.99 2.99 0 0 1-.025.212l-2.964-.463Zm-.164 1.872 3 .057a3.103 3.103 0 0 1-.012.214l-2.988-.271Zm-.004.045 2.988.271a3 3 0 0 1-5.987-.224l2.999-.047Zm-102.942.826 2.997-.133a2.998 2.998 0 0 1-2.997 3.133v-3Zm-.027 0v3a2.998 2.998 0 0 1-2.997-3.133l2.997.133Zm-102.942-.826 3 .046a3.002 3.002 0 0 1-5.988.223l2.988-.269Zm-.004-.045-2.988.269a3.038 3.038 0 0 1-.011-.213l2.999-.056Zm1.777-27.319c0 8.557.358 16.97 1.049 25.197l-5.979.502a307.22 307.22 0 0 1-1.07-25.699h6ZM209.086 9.677c-27.267 0-52.5 18.874-71.081 50.571-18.539 31.626-30.102 75.514-30.102 124.153h-6c0-49.516 11.759-94.49 30.926-127.187 19.126-32.626 45.985-53.537 76.257-53.537v6Zm101.183 174.724c0-48.639-11.564-92.527-30.103-124.153-18.581-31.697-43.814-50.571-71.08-50.571v-6c30.272 0 57.13 20.91 76.256 53.537 19.168 32.697 30.927 77.671 30.927 127.187h-6Zm-1.05 25.196c.692-8.227 1.05-16.64 1.05-25.196h6c0 8.724-.365 17.304-1.071 25.698l-5.979-.502Zm5.954.714a10.73 10.73 0 0 0-.128 1.466l-5.999-.113c.014-.767.081-1.527.199-2.279l5.928.926Zm-6.12 1.184.004-.045 5.976.541-.004.045-5.976-.541Zm-.011.317c-.086-5.539-4.61-11.308-13.573-15.863-8.803-4.473-21.132-7.323-34.905-7.323v-6c14.52 0 27.817 2.992 37.623 7.974 9.647 4.902 16.716 12.202 16.854 21.119l-5.999.093Zm-48.478-23.186c-13.84 0-26.222 2.878-35.034 7.389-8.971 4.592-13.444 10.398-13.444 15.963h-6c0-8.988 7.05-16.359 16.71-21.304 9.821-5.027 23.178-8.048 37.768-8.048v6Zm-48.478 23.352c0 .161.003.32.01.48l-5.994.267a16.857 16.857 0 0 1-.016-.747h6Zm-2.987 3.613h-.027v-6h.027v6Zm-3.024-3.133c.007-.16.011-.319.011-.48h6c0 .25-.006.499-.017.747l-5.994-.267Zm.011-.48c0-5.565-4.474-11.371-13.445-15.963-8.811-4.511-21.193-7.389-35.034-7.389v-6c14.59 0 27.948 3.021 37.768 8.048 9.66 4.945 16.711 12.316 16.711 21.304h-6Zm-48.479-23.352c-13.772 0-26.101 2.85-34.905 7.323-8.963 4.554-13.486 10.324-13.572 15.862l-5.999-.093c.138-8.917 7.207-16.217 16.853-21.118 9.806-4.982 23.104-7.974 37.623-7.974v6Zm-48.493 22.824.002.021.002.025-5.976.538-.002-.021a.212.212 0 0 0-.002-.024l5.976-.539Zm-5.987.326a10.86 10.86 0 0 0-.128-1.464l5.928-.926c.117.751.184 1.511.199 2.277l-5.999.113Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M209.086 3v209.591"/>
      </g>
      <path fill="#AF7128" fill-rule="evenodd" d="M329 341.842c0 17.292-11.913 31.801-27.98 35.768A85.094 85.094 0 0 1 304 400v225c0 12.15-9.85 22-22 22h-44c-12.15 0-22-9.85-22-22v-28.516a41.072 41.072 0 0 1-14-.174V625c0 12.15-9.85 22-22 22h-44c-12.15 0-22-9.85-22-22V400c0-7.767 1.042-15.29 2.993-22.438-15.969-4.035-27.786-18.498-27.786-35.72 0-20.347 16.494-36.842 36.841-36.842 14.302 0 26.701 8.15 32.806 20.059C170.81 318.641 184.48 315 199 315h20c14.586 0 28.313 3.674 40.308 10.146C265.397 313.19 277.821 305 292.158 305 312.505 305 329 321.495 329 341.842Z" clip-rule="evenodd"/>
      <path fill="#000" d="m301.02 377.61-2.894.789a3 3 0 0 1 2.175-3.701l.719 2.912ZM216 596.484l-.475-2.963a2.999 2.999 0 0 1 3.475 2.963h-3Zm-14-.174h-3a3 3 0 0 1 3.548-2.949L202 596.31Zm-85.007-218.748.735-2.908a2.997 2.997 0 0 1 2.159 3.698l-2.894-.79Zm41.861-52.503 1.419 2.643a3 3 0 0 1-4.089-1.274l2.67-1.369Zm100.454.087 2.673 1.362a2.998 2.998 0 0 1-4.098 1.279l1.425-2.641Zm40.993 49.552C315.06 371.054 326 357.721 326 341.842h6c0 18.704-12.886 34.391-30.26 38.681l-1.439-5.825ZM301 400c0-7.48-1.001-14.722-2.874-21.601l5.789-1.577A88.1 88.1 0 0 1 307 400h-6Zm0 133V400h6v133h-6Zm0 45v-45h6v45h-6Zm0 47v-47h6v47h-6Zm-19 19c10.493 0 19-8.507 19-19h6c0 13.807-11.193 25-25 25v-6Zm-44 0h44v6h-44v-6Zm-19-19c0 10.493 8.507 19 19 19v6c-13.807 0-25-11.193-25-25h6Zm0-28.516V625h-6v-28.516h6ZM209.5 594c2.047 0 4.058-.163 6.025-.479l.95 5.925a44.076 44.076 0 0 1-6.975.554v-6Zm-6.952-.639c2.261.42 4.583.639 6.952.639v6c-2.74 0-5.429-.253-8.048-.74l1.096-5.899ZM199 625v-28.69h6V625h-6Zm-19 19c10.493 0 19-8.507 19-19h6c0 13.807-11.193 25-25 25v-6Zm-44 0h44v6h-44v-6Zm-19-19c0 10.493 8.507 19 19 19v6c-13.807 0-25-11.193-25-25h6Zm0-47v47h-6v-47h6Zm0-45v45h-6v-45h6Zm0-133v133h-6V400h6Zm2.887-21.648A82.082 82.082 0 0 0 117 400h-6a88.09 88.09 0 0 1 3.099-23.228l5.788 1.58Zm-27.68-36.51c0 15.816 10.852 29.104 25.521 32.812l-1.47 5.817c-17.269-4.364-30.051-20-30.051-38.629h6ZM126.048 308c-18.69 0-33.841 15.151-33.841 33.842h-6c0-22.004 17.837-39.842 39.841-39.842v6Zm30.136 18.428C150.573 315.481 139.182 308 126.048 308v-6c15.471 0 28.878 8.819 35.476 21.691l-5.34 2.737ZM199 318c-14.013 0-27.196 3.512-38.727 9.702l-2.838-5.286C169.817 315.769 183.973 312 199 312v6Zm20 0h-20v-6h20v6Zm38.883 9.787C246.315 321.544 233.076 318 219 318v-6c15.095 0 29.311 3.803 41.733 10.506l-2.85 5.281ZM292.158 308c-13.165 0-24.58 7.517-30.177 18.508l-5.346-2.723c6.58-12.923 20.014-21.785 35.523-21.785v6ZM326 341.842C326 323.151 310.849 308 292.158 308v-6C314.162 302 332 319.838 332 341.842h-6Z"/>
      <path class="cap-strap" d="M253.678 372.665h-88.371v13.25h88.371z"/>
      <path fill="#000" fill-rule="evenodd" d="M141.7 331.481c-17.939 14.394-28.018 37.148-28.018 57.504h61.648c.087-13.669 11.194-24.723 24.883-24.723h18.56c13.689 0 24.796 11.054 24.883 24.723H305c0-20.356-10.078-43.11-28.018-57.504C259.043 317.086 234.711 309 209.341 309c-25.37 0-49.701 8.086-67.641 22.481Z" clip-rule="evenodd"/>
      <g class="eyes">
        <circle cx="8.079" cy="8.079" r="8.079" fill="#000" transform="matrix(-1 0 0 1 162.414 407)"/>
        <circle cx="8.079" cy="8.079" r="8.079" fill="#000" transform="matrix(-1 0 0 1 271 407)"/>
      </g>
      <path fill="#000" d="M187.835 429.683c0 8.21 9.868 17.451 20.845 17.451 10.977 0 20.844-9.241 20.844-17.451 0-8.211-9.867-12.281-20.844-12.281s-20.845 4.07-20.845 12.281Z"/>
      <g class="feature-set">
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M169 635v12M145 635v12M272 635v12M248 635v12"/>
        <path fill="#707070" stroke="#000" stroke-width="6" d="M119 534v16h183v-16zM119 480v16h183v-16z"/>
        <path fill="#D9D9D9" stroke="#000" stroke-width="6" d="M227 534h-28v16h28zM303 465h-16v95h16zM131 465h-16v95h16z"/>
        <rect width="74.266" height="52" x="-3" y="3" fill="#AF7128" stroke="#000" stroke-width="6" rx="26" transform="matrix(-1 0 0 1 166 486)"/>
        <path fill="#000" d="M157 524a3 3 0 1 1 0-6v6Zm12 0h-12v-6h12v6ZM157 512a3 3 0 1 1 0-6v6Zm12 0h-12v-6h12v6Z"/>
      </g>
    </svg>
  `,
    doublePump: (hue) => `
    <svg ${
      hue ? `style="--hue: ${hue};"` : ''
    } class="bear" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="86 300 246 350">
      <rect width="115" height="52" x="83.012" y="440.243" fill="#AF7128" stroke="#000" stroke-width="6" rx="26" transform="rotate(45 83.012 440.243)"/>
      <rect width="115" height="52" y="4.243" fill="#AF7128" stroke="#000" stroke-width="6" rx="26" transform="scale(-1 1) rotate(45 -693.579 -181.607)"/>
      <path fill="#000" d="M74.919 466.607a3.001 3.001 0 0 0 4.242-4.243l-4.242 4.243Zm-8.486-8.486 8.486 8.486 4.242-4.243-8.485-8.485-4.243 4.242Zm-.069 17.04a3 3 0 1 0 4.243-4.242l-4.243 4.242Zm-8.485-8.485 8.485 8.485 4.243-4.242-8.486-8.486-4.242 4.243Z"/>
      <path fill="#000" d="M342.654 466.607a3.001 3.001 0 0 1-4.243-4.243l4.243 4.243Zm8.485-8.486-8.485 8.486-4.243-4.243 8.485-8.485 4.243 4.242Zm.069 17.04a2.998 2.998 0 0 1-4.242 0 2.998 2.998 0 0 1 0-4.242l4.242 4.242Zm8.486-8.485-8.486 8.485-4.242-4.242 8.485-8.486 4.243 4.243Z"/>
      <g class="parachute">
        <path stroke="#898989" stroke-linecap="round" stroke-width="6" d="m3 212.591 205.914 269.65m-102.957-269.65 102.957 269.65m.001-269.65v269.65m102.957-269.65-102.958 269.65m.001 0 205.757-269.649"/>
        <path fill="#fff" fill-rule="evenodd" d="M414.827 211.768C414.383 98.423 322.363 6.677 208.914 6.677 95.466 6.677 3.446 98.423 3.002 211.767c.22-14.456 23.183-26.141 51.477-26.141 28.43 0 51.478 11.798 51.478 26.352 0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352s51.478 11.798 51.478 26.352c0 .205-.004.409-.013.613h.027a13.895 13.895 0 0 1-.014-.613c0-14.554 23.048-26.352 51.479-26.352 28.293 0 51.256 11.685 51.477 26.142Zm.001.335c-.001.163-.006.326-.013.488h.014l-.001-.488ZM3 212.591v-.488c.002.163.006.326.014.488H3Z" clip-rule="evenodd"/>
        <path fill="#000" d="m414.827 211.768-3 .045a3 3 0 0 0 6-.057l-3 .012Zm-411.825-.001-3-.011a3 3 0 0 0 6 .057l-3-.046Zm102.942.824-2.998-.133a3.002 3.002 0 0 0 2.998 3.133v-3Zm.027 0v3a3.002 3.002 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.93 0-2.997-.134a3 3 0 0 0 2.997 3.134v-3Zm.027 0v3a3.002 3.002 0 0 0 2.997-3.134l-2.997.134Zm102.943-.488 3-.007a3 3 0 0 0-6-.02l3 .027Zm-.013.488-2.997-.133a3.002 3.002 0 0 0 2.997 3.133v-3Zm.014 0v3a3 3 0 0 0 3-3h-3Zm-411.828-.488 3-.027a3 3 0 0 0-6 .02l3 .007Zm-.001.488H0a3 3 0 0 0 3 3v-3Zm.014 0v3a3.003 3.003 0 0 0 2.997-3.133l-2.997.133Zm205.9-202.914c111.796 0 202.476 90.409 202.913 202.102l6-.023c-.45-114.996-93.811-208.08-208.913-208.08v6ZM6.002 211.779C6.439 100.086 97.119 9.677 208.914 9.677v-6C93.813 3.677.452 96.76.002 211.756l6 .023Zm48.477-29.153c-14.52 0-27.819 2.992-37.625 7.975C7.207 195.503.138 202.803.002 211.722l6 .091c.084-5.538 4.607-11.308 13.57-15.863 8.804-4.474 21.133-7.324 34.907-7.324v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.033 7.389 8.972 4.592 13.445 10.398 13.445 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .161-.003.32-.011.48l5.995.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.319-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.248.016-.497.016-.747h-6c0 .16-.003.32-.01.48l5.994.267Zm-2.97-3.134h-.027v6h.027v-6Zm-3.014 2.387c0 .25.006.499.017.747l5.994-.267c-.007-.16-.011-.32-.011-.48h-6Zm54.479-29.352c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6Zm54.478 29.352c0-8.988-7.05-16.359-16.71-21.304-9.82-5.027-23.178-8.048-37.768-8.048v6c13.841 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6Zm-.016.747c.011-.249.016-.497.016-.747h-6c0 .161-.003.32-.01.479l5.994.268Zm-2.97-3.134h-.027v6h.027v-6Zm2.997 2.866a10.864 10.864 0 0 1-.011-.479h-6c0 .25.006.498.017.747l5.994-.268Zm-.011-.479c0-5.565 4.474-11.371 13.445-15.963 8.812-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.773 0 26.103 2.85 34.907 7.324 8.963 4.555 13.486 10.325 13.57 15.863l6-.091c-.137-8.918-7.206-16.219-16.852-21.121-9.806-4.983-23.105-7.975-37.625-7.975v6Zm48.478 23.45a9.688 9.688 0 0 1-.01.382l5.994.267c.009-.198.014-.396.016-.595l-6-.054Zm3.001-2.485h-.014v6h.014v-6Zm-3.001 2.519.001.481h6l-.001-.495-6 .014ZM.001 212.096l-.001.495h6v-.481l-6-.014Zm6.01.362a8.116 8.116 0 0 1-.01-.382l-6 .054c.001.199.007.397.016.595l5.994-.267ZM3 215.591h.014v-6H3v6Z"/>
        <path fill="#000" d="m312.037 209.849 2.964.463c.011-.07.02-.141.026-.212l-2.99-.251ZM208.914 6.677v-3 3ZM105.791 209.848l-2.989.251c.006.071.014.142.025.212l2.964-.463Zm.164 1.872-3 .057c.002.071.005.142.012.213l2.988-.27Zm.004.045-2.988.271a3 3 0 0 0 5.987-.224l-2.999-.047Zm102.942.826-2.997-.133a2.998 2.998 0 0 0 2.997 3.133v-3Zm.027 0v3a2.998 2.998 0 0 0 2.997-3.133l-2.997.133Zm102.942-.826-3 .046a3 3 0 0 0 5.988.223l-2.988-.269Zm.004-.046 2.988.27c.006-.071.01-.142.011-.213l-2.999-.057Zm-1.777-27.318c0 8.557-.358 16.97-1.049 25.197l5.979.502a307.22 307.22 0 0 0 1.07-25.699h-6ZM208.914 9.677c27.267 0 52.5 18.874 71.081 50.571 18.539 31.626 30.102 75.514 30.102 124.153h6c0-49.516-11.759-94.49-30.926-127.187-19.126-32.627-45.985-53.537-76.257-53.537v6ZM107.731 184.4c0-48.639 11.564-92.527 30.103-124.153 18.581-31.697 43.814-50.571 71.08-50.571v-6c-30.272 0-57.13 20.91-76.256 53.537-19.168 32.697-30.927 77.671-30.927 127.187h6Zm1.05 25.196a300.748 300.748 0 0 1-1.05-25.196h-6c0 8.723.365 17.304 1.071 25.698l5.979-.502Zm-5.954.714c.076.485.119.974.128 1.466l5.999-.113a16.648 16.648 0 0 0-.199-2.279l-5.928.926Zm6.12 1.184a.75.75 0 0 1-.004-.045l-5.976.54.004.046 5.976-.541Zm.011.317c.086-5.539 4.61-11.309 13.573-15.863 8.803-4.473 21.132-7.323 34.905-7.323v-6c-14.52 0-27.817 2.992-37.623 7.974-9.647 4.902-16.716 12.201-16.854 21.119l5.999.093Zm48.478-23.186c13.84 0 26.222 2.878 35.034 7.389 8.971 4.592 13.444 10.398 13.444 15.963h6c0-8.988-7.05-16.359-16.71-21.304-9.821-5.027-23.178-8.048-37.768-8.048v6Zm48.478 23.352c0 .16-.003.32-.01.48l5.994.267c.011-.248.016-.497.016-.747h-6Zm2.987 3.613h.027v-6h-.027v6Zm3.024-3.133c-.007-.16-.011-.32-.011-.48h-6c0 .25.006.499.017.747l5.994-.267Zm-.011-.48c0-5.565 4.474-11.371 13.445-15.963 8.811-4.511 21.193-7.389 35.034-7.389v-6c-14.59 0-27.948 3.021-37.768 8.048-9.66 4.945-16.711 12.316-16.711 21.304h6Zm48.479-23.352c13.772 0 26.101 2.85 34.905 7.323 8.963 4.554 13.486 10.324 13.572 15.862l5.999-.093c-.138-8.917-7.207-16.217-16.853-21.118-9.806-4.982-23.104-7.974-37.623-7.974v6Zm48.493 22.824-.002.021-.002.024 5.976.539.002-.021.002-.024-5.976-.539Zm5.987.326c.01-.492.052-.98.128-1.464l-5.928-.926a16.94 16.94 0 0 0-.199 2.277l5.999.113Z"/>
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M208.914 3v209.59"/>
      </g>
      <path fill="#AF7128" fill-rule="evenodd" d="M89 341.842c0 17.292 11.913 31.801 27.98 35.768A85.094 85.094 0 0 0 114 400v225c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22v-28.516a41.072 41.072 0 0 0 14-.174V625c0 12.15 9.85 22 22 22h44c12.15 0 22-9.85 22-22V400c0-7.767-1.042-15.29-2.993-22.438 15.969-4.035 27.787-18.498 27.787-35.72 0-20.347-16.495-36.842-36.842-36.842-14.302 0-26.701 8.15-32.806 20.059C247.19 318.641 233.52 315 219 315h-20c-14.586 0-28.313 3.674-40.308 10.146C152.603 313.19 140.179 305 125.842 305 105.495 305 89 321.495 89 341.842Z" clip-rule="evenodd"/>
      <path fill="#000" d="m116.98 377.61 2.894.789a3 3 0 0 0-2.175-3.701l-.719 2.912ZM202 596.484l.475-2.963a2.999 2.999 0 0 0-3.475 2.963h3Zm14-.174h3a3 3 0 0 0-3.548-2.949l.548 2.949Zm85.007-218.748-.735-2.908a2.997 2.997 0 0 0-2.159 3.698l2.894-.79Zm-41.861-52.503-1.419 2.643a3 3 0 0 0 4.089-1.274l-2.67-1.369Zm-100.454.087-2.673 1.362a2.998 2.998 0 0 0 4.098 1.279l-1.425-2.641Zm-40.993 49.552C102.94 371.054 92 357.721 92 341.842h-6c0 18.704 12.886 34.391 30.26 38.681l1.439-5.825ZM117 400c0-7.48 1.001-14.722 2.874-21.601l-5.789-1.577A88.1 88.1 0 0 0 111 400h6Zm0 133V400h-6v133h6Zm0 45v-45h-6v45h6Zm0 47v-47h-6v47h6Zm19 19c-10.493 0-19-8.507-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.493-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-28.516V625h6v-28.516h-6Zm9.5-2.484c-2.047 0-4.058-.163-6.025-.479l-.95 5.925c2.279.365 4.608.554 6.975.554v-6Zm6.952-.639c-2.261.42-4.583.639-6.952.639v6c2.74 0 5.429-.253 8.048-.74l-1.096-5.899ZM219 625v-28.69h-6V625h6Zm19 19c-10.493 0-19-8.507-19-19h-6c0 13.807 11.193 25 25 25v-6Zm44 0h-44v6h44v-6Zm19-19c0 10.493-8.507 19-19 19v6c13.807 0 25-11.193 25-25h-6Zm0-47v47h6v-47h-6Zm0-45v45h6v-45h-6Zm0-133v133h6V400h-6Zm-2.887-21.648A82.082 82.082 0 0 1 301 400h6a88.09 88.09 0 0 0-3.099-23.228l-5.788 1.58Zm27.681-36.51c0 15.816-10.853 29.104-25.522 32.812l1.47 5.817c17.269-4.364 30.052-20 30.052-38.629h-6ZM291.952 308c18.69 0 33.842 15.151 33.842 33.842h6c0-22.004-17.838-39.842-39.842-39.842v6Zm-30.136 18.428C267.427 315.481 278.818 308 291.952 308v-6c-15.471 0-28.878 8.819-35.476 21.691l5.34 2.737ZM219 318c14.013 0 27.196 3.512 38.727 9.702l2.838-5.286C248.183 315.769 234.027 312 219 312v6Zm-20 0h20v-6h-20v6Zm-38.883 9.787C171.685 321.544 184.924 318 199 318v-6c-15.095 0-29.311 3.803-41.733 10.506l2.85 5.281ZM125.842 308c13.165 0 24.58 7.517 30.177 18.508l5.346-2.723C154.785 310.862 141.351 302 125.842 302v6ZM92 341.842C92 323.151 107.151 308 125.842 308v-6C103.838 302 86 319.838 86 341.842h6Z"/>
      <path class="cap-strap" d="M164.322 372.665h88.371v13.25h-88.371z"/>
      <path fill="#000" fill-rule="evenodd" d="M276.3 331.481c17.939 14.394 28.018 37.148 28.018 57.504H242.67c-.087-13.669-11.194-24.723-24.883-24.723h-18.56c-13.689 0-24.796 11.054-24.883 24.723H113c0-20.356 10.078-43.11 28.018-57.504C158.957 317.086 183.289 309 208.659 309c25.37 0 49.701 8.086 67.641 22.481Z" clip-rule="evenodd"/>
      <g class="eyes">
        <circle cx="263.665" cy="415.079" r="8.079" fill="#000"/>
        <circle cx="155.079" cy="415.079" r="8.079" fill="#000"/>
      </g>
      <path fill="#000" d="M230.165 429.683c0 8.21-9.868 17.451-20.845 17.451-10.977 0-20.844-9.241-20.844-17.451 0-8.211 9.867-12.281 20.844-12.281s20.845 4.07 20.845 12.281Z"/>
      <g class="feature-set">
        <path stroke="#000" stroke-linecap="round" stroke-width="6" d="M249 635v12m24-12v12m-127-12v12m24-12v12"/>
        <path fill="#707070" stroke="#000" stroke-width="6" d="M299 534v16H116v-16zm0-54v16H116v-16z"/>
        <path fill="#D9D9D9" stroke="#000" stroke-width="6" d="M191 534h28v16h-28zm-76-69h16v95h-16zm172 0h16v95h-16z"/>
      </g>
    </svg>
  `,
}

const getBear = (hue, variant) => {
    if (variant) {
        return VARIANTS[variant](hue);
    } else {
        const variantKey =
            Object.keys(VARIANTS)[
                Math.floor(Math.random() * Object.keys(VARIANTS).length)
            ];
        return VARIANTS[variantKey](hue);
    }
};

// Manually calculate physics properties
const calculatePhysics = (velocity, angle, gravity) => {
    const radians = (angle * Math.PI) / 180;
    const vx = velocity * Math.cos(radians);
    const vy = velocity * Math.sin(radians);
    return {
        vx,
        vy,
        gravity
    };
};

const updatePosition = (element, {
    vx,
    vy,
    gravity
}, time) => {
    const x = vx * time;
    const y = vy * time + 0.5 * gravity * Math.pow(time, 2);
    gsap.set(element, {
        x,
        y
    });
};
